{"version":3,"sources":["drawService.spec.es6"],"names":["describe","DrawService","beforeEach","angular","mock","module","mainModule","name","inject","_DrawService_","it","componentContent","createComponent","expect","type","toEqual","stamps","Stamps","length","tools","select","component","componentStates","isCompleted","componentState","studentData","drawData","componentEvents","nodeEvents","node","hasStudentWork","componentStateHasStudentWork"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AAEAA,SAAS,aAAT,EAAwB,YAAM;;AAE5B,MAAIC,oBAAJ;;AAEAC,aAAWC,kBAAQC,IAAR,CAAaC,MAAb,CAAoBC,eAAWC,IAA/B,CAAX;;AAEAL,aAAWM,OAAO,UAACC,aAAD,EAAmB;AACnCR,kBAAcQ,aAAd;AACD,GAFU,CAAX;;AAIAC,KAAG,2BAAH,EAAgC,YAAM;AACpC,QAAMC,mBAAmBV,YAAYW,eAAZ,EAAzB;AACAC,WAAOF,iBAAiBG,IAAxB,EAA8BC,OAA9B,CAAsC,MAAtC;AACAF,WAAOF,iBAAiBK,MAAjB,CAAwBC,MAAxB,CAA+BC,MAAtC,EAA8CH,OAA9C,CAAsD,CAAtD;AACAF,WAAOF,iBAAiBQ,KAAjB,CAAuBC,MAA9B,EAAsCL,OAAtC,CAA8C,IAA9C;AACD,GALD;;AAOAL,KAAG,kDAAH,EAAuD,YAAM;AAC3D,QAAMW,YAAY,EAAlB;AACA,QAAMC,kBAAkB,EAAxB;AACA,QAAMC,cAActB,YAAYsB,WAAZ,CAAwBF,SAAxB,EAAmCC,eAAnC,CAApB;AACAT,WAAOU,WAAP,EAAoBR,OAApB,CAA4B,KAA5B;AACD,GALD;;AAOAL,KAAG,8CAAH,EAAmD,YAAM;AACvD,QAAMW,YAAY,EAAlB;AACA,QAAMG,iBAAiB;AACrBC,mBAAa;AACXC,kBAAU;AADC;AADQ,KAAvB;AAKA,QAAMC,kBAAkB,EAAxB;AACA,QAAMC,aAAa,EAAnB;AACA,QAAMC,OAAO,EAAb;AACA,QAAMP,kBAAkB,CAACE,cAAD,CAAxB;AACA,QAAMD,cAActB,YAAYsB,WAAZ,CAAwBF,SAAxB,EAAmCC,eAAnC,EAAoDK,eAApD,EAAqEC,UAArE,EAAiFC,IAAjF,CAApB;AACAhB,WAAOU,WAAP,EAAoBR,OAApB,CAA4B,IAA5B;AACD,GAbD;;AAeAL,KAAG,kEAAH,EAAuE,YAAM;AAC3E,QAAMc,iBAAiB;AACrBC,mBAAa;AACXC,kBAAU;AADC;AADQ,KAAvB;AAKA,QAAMf,mBAAmB,EAAzB;AACA,QAAMmB,iBAAiB7B,YAAY8B,4BAAZ,CAAyCP,cAAzC,EAAyDb,gBAAzD,CAAvB;AACAE,WAAOiB,cAAP,EAAuBf,OAAvB,CAA+B,KAA/B;AACD,GATD;;AAWAL,KAAG,wDAAH,EAA6D,YAAM;AACjE,QAAMc,iBAAiB;AACrBC,mBAAa;AACXC,kBAAU;AADC;AADQ,KAAvB;AAKA,QAAMf,mBAAmB,EAAzB;AACA,QAAMmB,iBAAiB7B,YAAY8B,4BAAZ,CAAyCP,cAAzC,EAAyDb,gBAAzD,CAAvB;AACAE,WAAOiB,cAAP,EAAuBf,OAAvB,CAA+B,IAA/B;AACD,GATD;AAWD,CA7DD","file":"drawService.spec.js","sourcesContent":["import angular from 'angular';\nimport mainModule from 'vle/main';\nimport 'angular-mocks';\n\ndescribe('DrawService', () => {\n\n  let DrawService;\n\n  beforeEach(angular.mock.module(mainModule.name));\n\n  beforeEach(inject((_DrawService_) => {\n    DrawService = _DrawService_;\n  }));\n\n  it('should create a component', () => {\n    const componentContent = DrawService.createComponent();\n    expect(componentContent.type).toEqual('Draw');\n    expect(componentContent.stamps.Stamps.length).toEqual(0);\n    expect(componentContent.tools.select).toEqual(true);\n  });\n\n  it('should check that the component is not completed', () => {\n    const component = {};\n    const componentStates = [];\n    const isCompleted = DrawService.isCompleted(component, componentStates);\n    expect(isCompleted).toEqual(false);\n  });\n\n  it('should check that the component is completed', () => {\n    const component = {};\n    const componentState = {\n      studentData: {\n        drawData: '{\"version\":1,\"dt\":{\"width\":800,\"height\":600},\"canvas\":{\"objects\":[{\"type\":\"rect\",\"originX\":\"center\",\"originY\":\"center\",\"left\":365,\"top\":162,\"width\":304,\"height\":162,\"fill\":\"\",\"stroke\":\"#333\",\"strokeWidth\":8,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":10,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"rx\":0,\"ry\":0}],\"background\":\"#fff\",\"backgroundImage\":{\"type\":\"image\",\"originX\":\"center\",\"originY\":\"center\",\"left\":400,\"top\":300,\"width\":1200,\"height\":800,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":10,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"crossOrigin\":\"anonymous\",\"alignX\":\"none\",\"alignY\":\"none\",\"meetOrSlice\":\"meet\",\"lockUniScaling\":false,\"src\":\"http://localhost:8080/curriculum/10/assets/background.jpg\",\"filters\":[],\"resizeFilters\":[]}}}'\n      }\n    };\n    const componentEvents = [];\n    const nodeEvents = [];\n    const node = {};\n    const componentStates = [componentState];\n    const isCompleted = DrawService.isCompleted(component, componentStates, componentEvents, nodeEvents, node);\n    expect(isCompleted).toEqual(true);\n  });\n\n  it('should check that the component state does not have student work', () => {\n    const componentState = {\n      studentData: {\n        drawData: '{\"version\":1,\"dt\":{\"width\":800,\"height\":600},\"canvas\":{\"objects\":[],\"background\":\"#fff\",\"backgroundImage\":{\"type\":\"image\",\"originX\":\"center\",\"originY\":\"center\",\"left\":400,\"top\":300,\"width\":1200,\"height\":800,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":10,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"crossOrigin\":\"anonymous\",\"alignX\":\"none\",\"alignY\":\"none\",\"meetOrSlice\":\"meet\",\"lockUniScaling\":false,\"src\":\"http://localhost:8080/curriculum/10/assets/background.jpg\",\"filters\":[],\"resizeFilters\":[]}}}'\n      }\n    };\n    const componentContent = {};\n    const hasStudentWork = DrawService.componentStateHasStudentWork(componentState, componentContent);\n    expect(hasStudentWork).toEqual(false);\n  });\n\n  it('should check that the component state has student work', () => {\n    const componentState = {\n      studentData: {\n        drawData: '{\"version\":1,\"dt\":{\"width\":800,\"height\":600},\"canvas\":{\"objects\":[{\"type\":\"rect\",\"originX\":\"center\",\"originY\":\"center\",\"left\":365,\"top\":162,\"width\":304,\"height\":162,\"fill\":\"\",\"stroke\":\"#333\",\"strokeWidth\":8,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":10,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"rx\":0,\"ry\":0}],\"background\":\"#fff\",\"backgroundImage\":{\"type\":\"image\",\"originX\":\"center\",\"originY\":\"center\",\"left\":400,\"top\":300,\"width\":1200,\"height\":800,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeLineJoin\":\"miter\",\"strokeMiterLimit\":10,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"clipTo\":null,\"backgroundColor\":\"\",\"fillRule\":\"nonzero\",\"globalCompositeOperation\":\"source-over\",\"transformMatrix\":null,\"skewX\":0,\"skewY\":0,\"crossOrigin\":\"anonymous\",\"alignX\":\"none\",\"alignY\":\"none\",\"meetOrSlice\":\"meet\",\"lockUniScaling\":false,\"src\":\"http://localhost:8080/curriculum/10/assets/background.jpg\",\"filters\":[],\"resizeFilters\":[]}}}'\n      }\n    };\n    const componentContent = {};\n    const hasStudentWork = DrawService.componentStateHasStudentWork(componentState, componentContent);\n    expect(hasStudentWork).toEqual(true);\n  });\n\n});\n"]}