<div class="library-filter">
  <div fxLayout="row" fxLayoutAlign="start start">
    <app-search-bar [placeholderText]="'Keyword search'"
                    [value]="searchValue"
                    (update)="searchUpdated($event)">
    </app-search-bar>
    <button class="library-filters-toggle input-control--appearance-fill"
            mat-icon-button
            (click)="showFilters = !showFilters">
      <mat-icon matBadge="+"
                matBadgeDescription="Filters applied"
                matBadgeOverlap="true"
                matBadgeSize="small"
                [matBadgeHidden]="!hasFilters()">filter_list</mat-icon>
    </button>
  </div>
</div>
<div class="library-filters" [class.expand]="showFilters">
  <div fxLayout="column" fxLayout.md="row wrap">
    <div *ngIf="disciplineOptions.length > 0"
         class="library-filter"
         fxFlex
         fxFlex.xs="100">
      <app-select-menu id="disciplineSelectMenu"
                       [options]="disciplineOptions"
                       [placeholderText]="'Discipline'"
                       [value]="disciplineValue"
                       (update)="filterUpdated($event, 'discipline')"
                       [valueProp]="'id'"
                       [viewValueProp]="'name'"
                       [multiple]="true">
      </app-select-menu>
    </div>
    <div *ngIf="dciArrangementOptions.length > 0"
         class="library-filter"
         fxFlex
         fxFlex.xs="100">
      <app-select-menu id="dciArrangementSelectMenu"
                       [options]="dciArrangementOptions"
                       [placeholderText]="'DCI Arrangement'"
                       [value]="dciArrangementValue"
                       (update)="filterUpdated($event, 'dci')"
                       [valueProp]="'id'"
                       [viewValueProp]="'name'"
                       [multiple]="true">
      </app-select-menu>
    </div>
    <div *ngIf="peOptions.length > 0"
         class="library-filter"
         fxFlex
         fxFlex.xs="100">
      <app-select-menu id="performanceExpectationSelectMenu"
                       [options]="peOptions"
                       [placeholderText]="'Performance Expectation'"
                       [value]="peValue"
                       (update)="filterUpdated($event, 'pe')"
                       [valueProp]="'id'"
                       [viewValueProp]="'name'"
                       [multiple]="true">
      </app-select-menu>
    </div>
  </div>
</div>
<div>
  <button (click)="reset()"
          mat-button
          color="primary"
          fxFlex="100"
          [disabled]="!searchValue && !hasFilters()" i18n>Reset</button>
</div>
